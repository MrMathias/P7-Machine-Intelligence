\subsection{Test Environment}

The test environment mainly serves two purposes. First, it makes it easy to evaluate and compare the performance of different probabilistic model learning techniques, according to the Pautomac evaluation criteria described in \todo{Insert secref}.
Second, it makes it more convenient to experiment with the creation of new techniques by allowing reuse or altering of different techniques or parts thereof, that has already been implemented. In \ref{fig:testenvironment} an overview of the test environment is given.

The \formatclass{DataLoader} class is responsible for loading both training data, test data and solution data from files as published at the Pautomac website. Both training and test data is represented by a list of sequences, while solution data is represented by a list of probabilities.

If one wants to implement a new technique for learning the parameters of a probabilistic model, a new class must be created that derives from the abstract class \formatclass{Learner}. A learner has only one responsibility. Given a list of training sequences, it must learn a probabilistic model as close as possible to the model used to generate those sequences. How this is done is up to the implementer to choose. The only requirement is that he implements a \formatfunction{calc\_probability(sequence)} function, which given a sequence should return how likely it is that the learned model generated that sequence.
The \formatclass{Learner} class has an already implemented function called \formatfunction{evaluate(sequences, probabilities)}, which returns a score for the learner based on the Pautomac evaluation criteria.

\begin{figure}[!htb]
\centering
\includegraphics[scale=.4]{pictures/test-environment-overview.eps}
\caption{An overview of the test environment}
\label{fig:testenvironment}
\end{figure}

\subsubsection{DataLoader}
The \formatclass{DataLoader} contains the two functions \formatfunction{load\_probabilities\_from\_file(file\_path)} and \formatfunction{load\_sequences\_from\_file(file\_path)}. The file to be read by both functions must be formatted according to the Pautomac data formats, as described in \todo{insert secref}. The former function outputs a list of sequences, where each sequence is represented by a list of integers.
The latter function outputs a list of probabilities, where each probability is represented by a decimal number.

\subsubsection{Learner}
The \formatfunction{evaluate} function can bee seen by \ref{code:learner}.

\subsubsection{Model}
Consider one \formatclass{Learner} that uses the Baum Welch algorithm to estimate the parameters of a Hidden Markov Model and a second \formatclass{Learner} that uses another algorithm, also for estimating the parameters of a Hidden Markov Model. The two learners may need to do many of the same operations on a Hidden Markov Model, e.g. normalization, calculating the probability of being in a state particular state or observing a particular sequence at a given time. 
It would be time consuming and increase redundancy if both learners were to implement their own Hidden Markov Model and operations on it.
The \formatclass{Model} has been created to facilitate this. It is an abstract class, which only dictates that a single function must be implemented. That is, the \formatfunction{calc\_sequence\_probability(symbol\_sequence)} function. Given a sequence, it must return the probability for the model to generate that sequence. Note that this function is intended to be directly used as the output of the function in the \formatclass{Learner} class having the same.

\begin{figure}
\caption{The \formatfunction{evaluate} function of the \formatclass{Learner} class.}
\label{code:learner}
\pythonexternal{codeexamples/learner.py}
\end{figure}